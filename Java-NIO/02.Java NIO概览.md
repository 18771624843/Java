#02.Java NIO概览

Java NIO包括以下核心组件：
	
	* 通道（Channels）
	* 缓冲区（Buffers）
	* 选择器（Selectors）

Java NIO包含许多类和组件，但是**通道（Channels）**，**缓冲区（Buffers）**和**选择器（Selectors）**是其中最核心的接口。其他的组件，例如**管道（Pipe）**和文件锁**（FileLock）**只是为这三个核心组件服务的工具类。

##通道和缓冲区（Channels and Buffers）

通常情况下，在NIO中的所有IO都起始于**通道（Channels）**。通道有点类似于**流**。来自通道的数据可以读取到缓冲区中，同样地，也可以从缓存区中写入数据到通道，如下图所示：

<img src="images/overview-channels-buffers.png" alt="Java NIO: Channels read data into Buffers, and Buffers write data into Channels
" title="Java NIO: Channels read data into Buffers, and Buffers write data into Channels
"/>

Java NIO中有很多Channel和Buffer实现。以下是Java NIO中最主要的Channel的实现类；

* FileChannel
* DatagramChannel
* SocketChannel
* ServerSocketChannel

正如你所见，这些通道覆盖了UDP、TCP和文件IO。

以下是Java NIO中最主要的Buffer的实现类：

* ByteBuffer
* CharBuffer
* ShortBuffer
* IntBuffer
* LongBuffer
* FloatBuffer
* DoubleBuffer

以上的缓冲区实现类覆盖了你能通过IO发送的全部基本类型数据数据。Java NIO也提供了一个叫MappedByteBuffer的Buffer实现类，它用于跟内存映射文件交互。

##选择器（Selectors）



A Selector allows a single thread to handle multiple Channel's. This is handy if your application has many connections (Channels) open, but only has low traffic on each connection. For instance, in a chat server.

Here is an illustration of a thread using a Selector to handle 3 Channel's:

Java NIO: Selectors
Java NIO: A Thread uses a Selector to handle 3 Channel's
To use a Selector you register the Channel's with it. Then you call it's select() method. This method will block until there is an event ready for one of the registered channels. Once the method returns, the thread can then process these events. Examples of events are incoming connection, data received etc.